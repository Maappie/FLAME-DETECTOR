<!-- app/views/alert_receipts/_row.html.erb -->
<% msg = (r.message || "") %>

<tr id="<%= dom_id(r) %>" class="alert-row"
    data-sender="<%= r.sender_tag.to_s.downcase %>"
    data-message="<%= msg.to_s.downcase %>"
    data-created="<%= r.created_at.to_i %>">
  <td><code><%= r.alert_id || "—" %></code></td>

  <td>
    <span class="badge bg-secondary"><%= r.sender_tag || "—" %></span>
  </td>

  <td class="text-truncate" style="max-width: 420px;">
    <%= msg.presence || "—" %>
  </td>

  <td class="manila-time" data-timestamp="<%= (r.alert_at || r.created_at).iso8601 %>"></td>

  <td class="manila-time" data-timestamp="<%= (r.received_at || r.created_at).iso8601 %>"></td>

  <td class="text-end">
    <%= link_to "View", alert_receipt_path(r), class: "btn btn-sm btn-outline-secondary" %>
  </td>
</tr>
